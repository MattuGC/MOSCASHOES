const products = [
    {
        "product_name": {
            "en": "Sneakers Aura",
            "es": "Zapatillas Aura",
            "pt": "Tênis Aura",
            "it": "Sneakers Aura"
        },
        "product_description": {
            "en": "Stylish and comfortable sneakers for everyday wear.",
            "es": "Zapatillas elegantes y cómodas para el uso diario.",
            "pt": "Tênis elegantes e confortáveis para uso diário.",
            "it": "Sneakers eleganti e comode per l'uso quotidiano."
        },
        "product_colors": {
            "en": ["Red", "Blue", "Black"],
            "es": ["Rojo", "Azul", "Negro"],
            "pt": ["Vermelho", "Azul", "Preto"],
            "it": ["Rosso", "Blu", "Nero"]
        },
        "product_stock": {
            "en": "In Stock",
            "es": "En Stock",
            "pt": "Em Stock",
            "it": "Disponibile"
        },
        "product_img_paths": [ "static/images/products/sneakers_aura.jpg", "static/images/products/boots_elegance.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg" ],
        "product_sizes": ["36", "37", "38", "39", "40"],
        "product_categories": [ "summer", "spring" ]
    },
    {
        "product_name": {
            "en": "Sneakers Aura",
            "es": "Zapatillas Aura",
            "pt": "Tênis Aura",
            "it": "Sneakers Aura"
        },
        "product_description": {
            "en": "Stylish and comfortable sneakers for everyday wear.",
            "es": "Zapatillas elegantes y cómodas para el uso diario.",
            "pt": "Tênis elegantes e confortáveis para uso diário.",
            "it": "Sneakers eleganti e comode per l'uso quotidiano."
        },
        "product_colors": {
            "en": ["Red", "Blue", "Black"],
            "es": ["Rojo", "Azul", "Negro"],
            "pt": ["Vermelho", "Azul", "Preto"],
            "it": ["Rosso", "Blu", "Nero"]
        },
        "product_stock": {
            "en": "In Stock",
            "es": "En Stock",
            "pt": "Em Stock",
            "it": "Disponibile"
        },
        "product_img_paths": [ "static/images/products/boots_elegance.jpg", "static/images/products/boots_elegance.jpg" ],
        "product_sizes": ["36", "37", "38", "39", "40"],
        "product_categories": [ "winter", "autumn" ]
    },
    {
        "product_name": {
            "en": "Sneakers Aura",
            "es": "Zapatillas Aura",
            "pt": "Tênis Aura",
            "it": "Sneakers Aura"
        },
        "product_description": {
            "en": "Stylish and comfortable sneakers for everyday wear.",
            "es": "Zapatillas elegantes y cómodas para el uso diario.",
            "pt": "Tênis elegantes e confortáveis para uso diário.",
            "it": "Sneakers eleganti e comode per l'uso quotidiano."
        },
        "product_colors": {
            "en": ["Red", "Blue", "Black"],
            "es": ["Rojo", "Azul", "Negro"],
            "pt": ["Vermelho", "Azul", "Preto"],
            "it": ["Rosso", "Blu", "Nero"]
        },
        "product_stock": {
            "en": "In Stock",
            "es": "En Stock",
            "pt": "Em Stock",
            "it": "Disponibile"
        },
        "product_img_paths": [ "static/images/products/flats_comfy.jpg", "static/images/products/sandals_breeze.jpg" ],
        "product_sizes": ["36", "37", "38", "39", "40"],
        "product_categories": [ "summer" ]
    },
    {
        "product_name": {
            "en": "Sneakers Aura",
            "es": "Zapatillas Aura",
            "pt": "Tênis Aura",
            "it": "Sneakers Aura"
        },
        "product_description": {
            "en": "Stylish and comfortable sneakers for everyday wear.",
            "es": "Zapatillas elegantes y cómodas para el uso diario.",
            "pt": "Tênis elegantes e confortáveis para uso diário.",
            "it": "Sneakers eleganti e comode per l'uso quotidiano."
        },
        "product_colors": {
            "en": ["Red", "Blue", "Black"],
            "es": ["Rojo", "Azul", "Negro"],
            "pt": ["Vermelho", "Azul", "Preto"],
            "it": ["Rosso", "Blu", "Nero"]
        },
        "product_stock": {
            "en": "In Stock",
            "es": "En Stock",
            "pt": "Em Stock",
            "it": "Disponibile"
        },
        "product_img_paths": [ "static/images/products/sandals_breeze.jpg", "static/images/products/boots_elegance.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg" ],
        "product_sizes": ["36", "37", "38", "39", "40"],
        "product_categories": [ "spring" ]
    },
    {
        "product_name": {
            "en": "Sneakers Aura",
            "es": "Zapatillas Aura",
            "pt": "Tênis Aura",
            "it": "Sneakers Aura"
        },
        "product_description": {
            "en": "Stylish and comfortable sneakers for everyday wear.",
            "es": "Zapatillas elegantes y cómodas para el uso diario.",
            "pt": "Tênis elegantes e confortáveis para uso diário.",
            "it": "Sneakers eleganti e comode per l'uso quotidiano."
        },
        "product_colors": {
            "en": ["Red", "Blue", "Black"],
            "es": ["Rojo", "Azul", "Negro"],
            "pt": ["Vermelho", "Azul", "Preto"],
            "it": ["Rosso", "Blu", "Nero"]
        },
        "product_stock": {
            "en": "In Stock",
            "es": "En Stock",
            "pt": "Em Stock",
            "it": "Disponibile"
        },
        "product_img_paths": [ "static/images/products/heels_glamour.jpg", "static/images/products/boots_elegance.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg" ],
        "product_sizes": ["36", "37", "38", "39", "40"],
        "product_categories": [ "winter" ]
    },
    {
        "product_name": {
            "en": "Sneakers Aura",
            "es": "Zapatillas Aura",
            "pt": "Tênis Aura",
            "it": "Sneakers Aura"
        },
        "product_description": {
            "en": "Stylish and comfortable sneakers for everyday wear.",
            "es": "Zapatillas elegantes y cómodas para el uso diario.",
            "pt": "Tênis elegantes e confortáveis para uso diário.",
            "it": "Sneakers eleganti e comode per l'uso quotidiano."
        },
        "product_colors": {
            "en": ["Red", "Blue", "Black"],
            "es": ["Rojo", "Azul", "Negro"],
            "pt": ["Vermelho", "Azul", "Preto"],
            "it": ["Rosso", "Blu", "Nero"]
        },
        "product_stock": {
            "en": "In Stock",
            "es": "En Stock",
            "pt": "Em Stock",
            "it": "Disponibile"
        },
        "product_img_paths": [ "static/images/products/loafers_chic.jpg", "static/images/products/boots_elegance.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg" ],
        "product_sizes": ["36", "37", "38", "39", "40"],
        "product_categories": [ "autumn" ]
    },
    {
        "product_name": {
            "en": "Sneakers Aura",
            "es": "Zapatillas Aura",
            "pt": "Tênis Aura",
            "it": "Sneakers Aura"
        },
        "product_description": {
            "en": "Stylish and comfortable sneakers for everyday wear.",
            "es": "Zapatillas elegantes y cómodas para el uso diario.",
            "pt": "Tênis elegantes e confortáveis para uso diário.",
            "it": "Sneakers eleganti e comode per l'uso quotidiano."
        },
        "product_colors": {
            "en": ["Red", "Blue", "Black"],
            "es": ["Rojo", "Azul", "Negro"],
            "pt": ["Vermelho", "Azul", "Preto"],
            "it": ["Rosso", "Blu", "Nero"]
        },
        "product_stock": {
            "en": "In Stock",
            "es": "En Stock",
            "pt": "Em Stock",
            "it": "Disponibile"
        },
        "product_img_paths": [ "static/images/products/slippers_cozy.jpg", "static/images/products/boots_elegance.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg" ],
        "product_sizes": ["36", "37", "38", "39", "40"],
        "product_categories": [ "summer", "spring", "winter", "autumn" ]
    },
    {
        "product_name": {
            "en": "Sneakers Aura",
            "es": "Zapatillas Aura",
            "pt": "Tênis Aura",
            "it": "Sneakers Aura"
        },
        "product_description": {
            "en": "Stylish and comfortable sneakers for everyday wear.",
            "es": "Zapatillas elegantes y cómodas para el uso diario.",
            "pt": "Tênis elegantes e confortáveis para uso diário.",
            "it": "Sneakers eleganti e comode per l'uso quotidiano."
        },
        "product_colors": {
            "en": ["Red", "Blue", "Black"],
            "es": ["Rojo", "Azul", "Negro"],
            "pt": ["Vermelho", "Azul", "Preto"],
            "it": ["Rosso", "Blu", "Nero"]
        },
        "product_stock": {
            "en": "In Stock",
            "es": "En Stock",
            "pt": "Em Stock",
            "it": "Disponibile"
        },
        "product_img_paths": [ "static/images/products/wedges_trendy.jpg", "static/images/products/boots_elegance.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg" ],
        "product_sizes": ["36", "37", "38", "39", "40"],
        "product_categories": [ "summer", "spring" ]
    },
    {
        "product_name": {
            "en": "Sneakers Aura",
            "es": "Zapatillas Aura",
            "pt": "Tênis Aura",
            "it": "Sneakers Aura"
        },
        "product_description": {
            "en": "Stylish and comfortable sneakers for everyday wear.",
            "es": "Zapatillas elegantes y cómodas para el uso diario.",
            "pt": "Tênis elegantes e confortáveis para uso diário.",
            "it": "Sneakers eleganti e comode per l'uso quotidiano."
        },
        "product_colors": {
            "en": ["Red", "Blue", "Black"],
            "es": ["Rojo", "Azul", "Negro"],
            "pt": ["Vermelho", "Azul", "Preto"],
            "it": ["Rosso", "Blu", "Nero"]
        },
        "product_stock": {
            "en": "In Stock",
            "es": "En Stock",
            "pt": "Em Stock",
            "it": "Disponibile"
        },
        "product_img_paths": [ "static/images/products/moccasins_modern.jpg", "static/images/products/boots_elegance.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg" ],
        "product_sizes": ["36", "37", "38", "39", "40"],
        "product_categories": [ "winter", "autumn" ]
    },
    {
        "product_name": {
            "en": "Sneakers Aura",
            "es": "Zapatillas Aura",
            "pt": "Tênis Aura",
            "it": "Sneakers Aura"
        },
        "product_description": {
            "en": "Stylish and comfortable sneakers for everyday wear.",
            "es": "Zapatillas elegantes y cómodas para el uso diario.",
            "pt": "Tênis elegantes e confortáveis para uso diário.",
            "it": "Sneakers eleganti e comode per l'uso quotidiano."
        },
        "product_colors": {
            "en": ["Red", "Blue", "Black"],
            "es": ["Rojo", "Azul", "Negro"],
            "pt": ["Vermelho", "Azul", "Preto"],
            "it": ["Rosso", "Blu", "Nero"]
        },
        "product_stock": {
            "en": "In Stock",
            "es": "En Stock",
            "pt": "Em Stock",
            "it": "Disponibile"
        },
        "product_img_paths": [ "static/images/products/ankle_boots_bold.jpg", "static/images/products/boots_elegance.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg" ],
        "product_sizes": ["36", "37", "38", "39", "40"],
        "product_categories": [ "summer", "autumn" ]
    },
    {
        "product_name": {
            "en": "Sneakers Aura",
            "es": "Zapatillas Aura",
            "pt": "Tênis Aura",
            "it": "Sneakers Aura"
        },
        "product_description": {
            "en": "Stylish and comfortable sneakers for everyday wear.",
            "es": "Zapatillas elegantes y cómodas para el uso diario.",
            "pt": "Tênis elegantes e confortáveis para uso diário.",
            "it": "Sneakers eleganti e comode per l'uso quotidiano."
        },
        "product_colors": {
            "en": ["Red", "Blue", "Black"],
            "es": ["Rojo", "Azul", "Negro"],
            "pt": ["Vermelho", "Azul", "Preto"],
            "it": ["Rosso", "Blu", "Nero"]
        },
        "product_stock": {
            "en": "In Stock",
            "es": "En Stock",
            "pt": "Em Stock",
            "it": "Disponibile"
        },
        "product_img_paths": [ "static/images/products/clogs_casual.jpg", "static/images/products/boots_elegance.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg", "static/images/products/sandals_breeze.jpg" ],
        "product_sizes": ["36", "37", "38", "39", "40"],
        "product_categories": [ "spring", "winter" ]
    }
];

document.addEventListener('DOMContentLoaded', function() {
    var productCarousel = '';
    var lang = '';
    setTimeout(function() {
        productCarousel = document.getElementById('product-carousel');
        lang = document.getElementById('language-selected');
    }, 100);

    // Función para renderizar los productos según el idioma
    function renderProducts(lang) {
        productCarousel.innerHTML = ''; // Limpiar el carrusel de productos
        products.forEach(product => {
            const productItem = document.createElement('div');
            productItem.classList.add('product-item');
            
            const productGallery = document.createElement('div');
            productGallery.classList.add( 'product-gallery' );

            var counter = 0;
            product.product_img_paths.forEach( img_path => {
                const productImage = document.createElement( 'img' );
                counter += 1;
                productImage.src = img_path;
                productImage.classList.add( 'product_img' );
                productImage.alt = product.product_name[ lang ];

                productGallery.appendChild( productImage )
            });

            const productDetails = document.createElement('div');
            productDetails.classList.add('product-details');

            const productName = document.createElement('h3');
            productName.textContent = product.product_name[lang];

            const productDescription = document.createElement('p');
            productDescription.textContent = product.product_description[lang];

            const productStock = document.createElement('p');
            productStock.textContent = `Stock: ${product.product_stock[lang]}`;

            const sizeSelector = document.createElement('select');
            product.product_sizes.forEach(size => {
                const option = document.createElement('option');
                option.value = size;
                option.textContent = size;
                sizeSelector.appendChild(option);
            });

            const colorSelector = document.createElement('select');
            /* console.log( 'product: ' + product );
            console.log( 'product.product_colors: ' + product.product_colors );
            console.log( 'lang: ' + lang ); */
            product.product_colors[lang].forEach(color => {
                const option = document.createElement('option');
                option.value = color;
                option.textContent = color;
                colorSelector.appendChild(option);
            });

            const addToCartButton = document.createElement('button');
            addToCartButton.textContent = 'Add to Cart';

            productDetails.appendChild(productGallery);
            productDetails.appendChild(productName);
            productDetails.appendChild(productDescription);
            productDetails.appendChild(productStock);
            productDetails.appendChild(sizeSelector);
            productDetails.appendChild(colorSelector);
            productDetails.appendChild(addToCartButton);

            productItem.appendChild(productDetails);

            productCarousel.appendChild(productItem);
        });
    }

    // Renderizar los productos inicialmente con el idioma detectado
    renderProducts(lang);

    // Cambiar la carga de productos al cambiar el idioma
    lang.addEventListener( 'change', () => {
        renderProducts( lang );
    });
});

